language: java
jdk:
- oraclejdk12
install: mvn -DskipTests -Dgpg.skip install
after_success:
- gpg --batch --keyring=$TRAVIS_BUILD_DIR/pubring.gpg --no-default-keyring --import
  travis/signingkey.asc
- gpg --batch --passphrase $PASSPHRASE --allow-secret-key-import --keyring=$TRAVIS_BUILD_DIR/secring.gpg
  --no-default-keyring --import travis/signingkey.asc
- mvn clean deploy -s travis/settings.xml -P ossrh -Dgpg.executable=gpg -Dgpg.keyname=6246B5BC9734B4AB443367BB82196372D0DEC8BD
  -Dgpg.passphrase=$PASSPHRASE -Dgpg.publicKeyring=$TRAVIS_BUILD_DIR/pubring.gpg -Dgpg.secretKeyring=$TRAVIS_BUILD_DIR/secring.gpg
deploy:
  provider: releases
  file_glob: true
  api_key:
    secure: BR6zp5EF450jvl8B9AZKPCdrd3PLQ7IMtKi6Gk8hF/dmaya1k63lLngowluCDrCTc3ftwVXoj4c3cHYTTK9RLZmDqjIUUZS/cdrCg7W9digljPEe6V1dS6A0RpQlLO3aPKGVmMh9nl7vhgpdCSLo66YWyW8k67v5Ko6qCzIzSHd9t4a1Y3TMGLxMKR+Jy+aAnSP3NbrK0lyeo4ykGme1deLAhuTgmeWA4nYXAN/vDsRJDQluzCASjp3v8TTXtEPyDQZGgex5ZP8e1WvdkjYprkKUhjVFP9+ztv3dcdQ7oEctgt1xYmCny4aMNtlJfXIddv1fNz41IngaI/h9hQOOFYCW4ZXHum79mhDZy9DY5KwM9sEMnN51k6ApfgWYK9Vamiid0GAP9LxJvwrAWWM3YpktnTdfRPF6c/bDqtED9w55M6uqTjs7wm8oLEU8YWzwTx2TyR8C/keVB58wjQEe4ey2ar/aI3Td7AOOpHm0tULzekIm47uxootK7jXF+I3uDInCGBwQwQEtKEnWR6p+uKKBCIlU4vFRBZgguq60CI4KidFxDjSFUMC85STqeY65Kbww3fsxZ0whgtbLU8T86A1hoosoSgibCD6kdixliemnze4mh3E314lOGn4PwdccdiIumi/S736+dQgsGWMaapgHXkROR7Hz5tVBqUg+VXI=
  file: target/*.jar
  on:
    tags: true
    repo: jlefebure/spring-boot-starter-minio
env:
  global:
  - secure: OU+tS+mmcBLYWa0Cv4r20CwRFvvRcUfrTAmnKg2QB1GEAGm9rgFBTDpzbm6gomO1ETR/zqxWTG4mUoo0GoZTqaNo2c3lSljfzhWBXCRb2cYTTMg0O+sTM7oxIRut+TXSg0CEROzXqGBdU5U2vbNCB9CGlkyDjDEfz20Qdor6x8jgOuPYaj0IWNC0lt6k3HdGuKyiy90UM8nHi3p1/E287IUQnwpt7o9EnKMITtxW81PTSpS1SgDebNkxCmgwEHZbYmF3KcAKQHFpsUnEPYfRMqrev3nLAO86zr9uy+kGpMOkuhVqb1DVzQxz2gzIoC3kN6Qk2R4Gz+kGIpjipOxWegEbl1ACyPlxeAyBi/RRqq81ba4MSsyoQHIuAdYUFe9NglWDltDWLRM6uE1Lg95smMvBDnIj3jFeCJe0tEHoS+EMw3sLwBBnQLGg9W27X4FGNCo/ZD8seEy9z9RyOk/YjI4zUS64foEzDccarUx0D3fWHBZHyV4j6p9wfVJDiwukSnV/k3v6E5GJRZpEM1knJyCC02OvneFwBMxCxStaC1JrJfEpxSMMWiobED0p4/8qZGALVQ7QaUtM0YLHGljTUDwEhwQv10rXZce2IvFzQ7WEZz8arjWztEyYfcvnfMmw3nu50IXmKTfDm2eS1At+jS2Aizs7jUVFDIUL+FvL4vI=
  - secure: NrCU8P9mWEhPXLFkgp8kNZxhNpBwKX3+M7o0yIOR60wAOjSOgcBi5snllrANWl4K1IDWNIjbV7GpMI+h0VwJoGnhdjgWnr0c4SFuaP4jvk2t663SUHUbqmAPhxCYIZ9dZMgUR05UJwybuXjC3bpWwQnWRC3Xu+FCahdrSItmrzySdK5eMw+1IPolbmHyqyQLtiOA+3pIk4iUEBbysj9o6XqqoV1kCj3cdxdF+Fv4WwweH9P8YcrufQuorhAaCgrtm5YgnxsWohyz79w6eoqoMLleh5J6aX7yAb+F4NWKZiRw38ygIbhGSypsD+244SriM6AoGfx5LmwMKSzXZVD8+GzYpSeFTIN289ZMXbmiTOvady10IvkvZxdhVz5HP8n7Xrsna7JXjAjOpqLn1jWiWnqTAVYiLWlSokLrkjrobjnLIeUhJu+OFIHlJTD6tA1d5tPgYHLpVTC8u0R9ONGcukAebj6gkQ+6L4w6uL9lECbNnvfq90RKzE5S68duYn1lB7uPLF6rJPeOR07vZINqu4zCemZpsHlit595gJXC4PlpY7MukGVbPPBftat2wRJv0NL/wDuLzgy5zj3pt1zS/LHplWGIcnOC8imfkVsQpEv4BGblj77Fkzn/y5d4BwOTV5lnb/ptLldMxzLksJyB9sDo1cmu+mBxCTycljd6yao=
  - secure: MdZdAGgk53Cqzv7sSIjTMZDKmw1UdF40eVtwBxLDSB3kkZ8xeUEelGXpdqTPOtjagc+QE5z7Nm7VxmW1V5sm4woxV5QqYrkz7MBPPv2e0oDSt3Ryk0zYzR1G0pk+f3kUkdVdJ+3MiRQGv8g/7+wPRTfK2ksq+uL2b/K/0eGWfZLQ8QesNUxkdZMqINl8vf9m9JRbRXVA7gGcQ0hntjzZ0r1yf/YOGEU3qPs0hROX1lgEG6vDfOaUHR/zctIKYlygQ0DVVIOmbZn34EzDg3Z8+BBUX+1msF6v0EULjGjbU2XI1NORieocI22C9xcUtmaXjlIEcWDMVCMqXPypmJFcHxP368DnD3JdY/gUXLAolYXYEOSMW8Ig0W3ciWV0DA1RHmAt3URepsPWB0yk8kUcqW7Qw0ZghIq4oXkt5FW01WycZpTfMH42GkwZ+JNg1H2yALdfLgB3F26uLtCNQUPhFL6J/52qYiWZS3jGrsQGCjNOaufbb88FxXobyfr/3yYkiPOb42+gwE1OzLMgtCm9f17KiejcI9xOS1No8DxWVIlDh6MuIts2bkrCPGAUNqsVKaMrdzBe9mfnL5rmQbq8LMGdb6jA3P/Y/L9FRz/VtoIQE2n1/XrEKgcbRgytDKYsLqGF4h4v2ocXO4d36c9Q80afzTBe+lCadazuJE/hj5k=
  - secure: IljhHkwXeR7YFHxqHL+s2jJQdZ8A6E+7DncF7w1+bci+U2lg0B4K3AeLXt6rJNgQBoSalz9q0jN+ApgVaNi+mnbUpqB8kncJK3Ko3vW94ZrTHhj1RIxY7Rcwx2Jr2eg9u0Wnj5IVq/n4OWrfDKOuwhZ1YbCWwS8LZxpcD90ohVqWZAeNa/Y5vHjh03d5d8YJVNNtpGUroj65MGzccpkqFGKTAX7soPbQEGlkKyGx6OF17tjdHvOiWIEz/QYSlysRxlYsW/wnB+HEJMEiIXEnttekCTSsj7tCE00JLj1g6u/iWqoh/LjrX5aU826aapedhoX/A/j2ayXjZNl5kM4nz/iDDkGt//Wrw5NGmiXypgzLYh/eBDkrCPnN96TlTPxBdqjAqzfYbv2QCtsf9YR5fU16uGa5WtJH7zUwFVnzLsTroAheHfwuKMJX37WwQaaDtG5xAih+mXlUzXhAmwLyheCyi2IHoKUnQpCFrBOBw5kW4rl5GwuF/jLl6bkeov3VZRO4fBmWuVI7slz8Ij4xAM7nhNQveb6y/EPGT4+3mBppb7WUIoDIL+16QzURilHby04Po6totA8d90C5Xw8lvwbujR2sW1+iFJe2xeddScrcbNassvM78lw/+Cm3K2mXYKYCS+r6Xjbeh9OlAxVdLdV+nqo/5QMeQpr4Gla/OoU=
before_install:
- openssl aes-256-cbc -K $encrypted_8641e756fc24_key -iv $encrypted_8641e756fc24_iv
  -in travis/signingkey.asc.enc -out travis/signingkey.asc -d
